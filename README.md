mrc_simple_filter
===========

This is a collection of small, hastily written programs for applying simple filters to MRC files (3D volumetric image files typically generated by electron tomography).

### *Please ignore this repository*
***As of 2017-11-27, this software is not yet ready for public use.***  Some of these tools probably do not work (and they are extremely slow since I have not yet implemented them in CUDA).  


## programs included with this repository:

After compilation, all programs will be located in the "*bin/*" subdirectory.  Here is a brief description of a few of them:

### filter_gauss

**filter_gauss** applies a simple gaussian (blur) filter to a volumetric image (a.k.a. "tomogram") and saves
the result as a new .mrc/.rec file.  You can independently control the
x, y, z components of the gaussian used in the averaging, as well as the
filter window size.
You can also use the "-mask file.mrc" argument to
supply another tomogram of the same size containing a list of which
pixels you want to exclude from the averaging.
Finally you can use the "*-thresh*" (and "*-thresh2*" and "*-thresh4*") arguments to run the brightnesses through a threshold filter.  This allows you to rescale (and invert) and clip the brightnesses, and insure that
the resulting voxel brightnesses are between 0 and 1.
By using an extremely narrow width filter, the **filter_gauss** program is useful for performing thresholding operations (including inverting the brightnesses) without blurring the resulting image.


### filter_dog
**filter_dog** applies a "difference-of-gaussians" filter to the tomogram
in the XY directions, and an ordinary gaussian filter in the Z direction,
and saves the result as a new .mrc/.rec file.
As with "*filter_gauss*", this program supports masks ans thresholding using
the "*-mask*" and "*-thresh*" (and "*-thresh2*" and "*-thresh4*") arguments.
Detailed documentation for this program is located in the "*doc/*" subdirectory.

### merge_mrc
**merge_mrc** is a program for combining two volumetric images (i.e. tomograms, both of identical size) into one image/tomogram, using a combination of addition, multiplication, and thresholding operations.  These features can be used perform binary operations between two images which are similar to "**and**" and "**or**" operations.  ("**not**" operations are also possible.)  As with the "*filter_gauss*" and "*filter_dog*" programs, you can also use the "-mask" argument to restrict the operation to certain voxels from the image.  (See the documentation for that tool for details.)
Detailed documentation for this program is located in the "*doc/*" subdirectory.



## Compilation instructions:

The programs are located inside separate directories inside the "bin"
subdirectory.  However before you compile those programs, you must
compile the libraries first.

### Step 1:
   if you use bash or sh:
```
   source setup_gcc.sh
```

if you use csh or tcsh:
```
   source setup_gcc.csh
```

### Step 2: compile the libraries

```
   cd lib
   make clean
   make depend
   make
```

### Step 3: compile the program

You have to cd to the directory that contains the program you want to compile:
cd ../bin/subdirectory_of_interest

```
   make clean
   make depend
   make
```

## License

These programs are available under the terms of the open-source 3-clause BSD 
license.  (See `LICENSE.md`.)

