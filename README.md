mrc_simple_filter
===========

This is a collection of programs (mainly "convolve_mrc" and "combine_mrc") for applying simple filters to MRC files (3D volumetric image files typically generated by electron tomography).

## programs included with this repository:

After compilation, all programs will be located in the "*bin/*" subdirectory.  Here is a brief description of a few of them:


## convolve_mrc


**convolve_mrc** applies a filter to a tomogram in the X,Y,Z directions
and saves the result as a new .mrc/.rec file.
This program can be used to rescale or invert a 3-D image, remove its high or low spatial frequencies,
(smoothing, edge detection, band pass filter).
and perform 3-D blob detection.
This program can also be used for the simple template matching of spherical objects of arbitrary size (and arbitrary mask width).
Currently, the program supports the following list of filters:
([generalized](https://en.wikipedia.org/wiki/Generalized_normal_distribution#Version_1))
[Gaussians](https://en.wikipedia.org/wiki/Gaussian_blur),
([generalized](https://en.wikipedia.org/wiki/Generalized_normal_distribution#Version_1))
[Difference-of-Gaussians](https://en.wikipedia.org/wiki/Difference_of_Gaussians),
[Laplacian-of-Gaussians](https://en.wikipedia.org/wiki/Blob_detection#The_Laplacian_of_Gaussian),
and others.
Both isotropic and anisotropic filters are supported.
(Fast [separable](https://en.wikipedia.org/wiki/Separable_filter) filters are used when possible.)
Detailed documentation for this program is located in the "*doc/*" subdirectory.


## combine_mrc
**combine_mrc** is a program for combining two volumetric images (i.e. tomograms, both of identical size) into one image/tomogram, using a combination of addition, multiplication, and thresholding operations.  These features can be used perform binary operations between two images (which are similar to "**and**" and "**or**" operations.  "**not**" operations are also possible.)  As with the "*convolve_mrc*" program, you can also use the "-mask" argument to restrict the operation to certain voxels from the image.  (See the documentation for that tool for details.)
Detailed documentation for this program is located in the "*doc/*" subdirectory.

#### *pre alpha*
Warning: This code is not yet stable.  As of 2017-12-26, this code compiles but it has only been lightly tested.  Tagged *releases* of this repository should have some semblance of functionality.  (More recent commits may not even compile.)  Program names and command line arguments may change in the future.
The documentation also needs to be updated.

## Compilation instructions:

The programs are located inside separate directories inside the "bin"
subdirectory.  However before you compile those programs, you must
compile the libraries first.

### Step 1:
   if you use bash or sh:
```
   source setup_gcc.sh
```

if you use csh or tcsh:
```
   source setup_gcc.csh
```

### Step 2: compile the libraries

```
   cd lib
   make clean
   make depend
   make
```

### Step 3: compile the program

You have to cd to the directory that contains the program you want to compile:
cd ../bin/subdirectory_of_interest

```
   make clean
   make depend
   make
```

## License

These programs are available under the terms of the open-source 3-clause BSD
license.  (See `LICENSE.md`.)
